# Программирование дронов для автономной навигации по видео камерам

Привет! Мы все знаем что такое летающие дроны. Но зачем они нужны автономные и при чем тут видеокамеры - обсудим в этой статье. Потом поговорим, о том, как программировать такие системы, конечно не на низком уровне управления моторами, а на высоком уровне, где мы будем говорить дрону, где он находится и куда ему лететь. Для упрощения разработки для таких штук существуют среда разработки приложение для робототехники ROS (Robot Operating System),  программный симулятор Gazebo (чтобы тестировать алгоритмы в симуляционной среде и в итоге разбить меньше робототехнический средств). И ROS и Gazebo работают в ОС Linux (будем работать в Ubuntu 16.04), и мы в конце настроим такую среду и запустим дрона в симуляторе в автономный полет по заданной траектории. Программа автономного управления будет написана на языке Python. 

#### Какие бывают дроны сейчас, как используются

Дроны бывают разные. По конструкции различают мультироторный (коптеры), самолетный (fixed wing) или вообще гибридный тип (взлетает вертикально, потом использует крылья). Также бывают потребительские (consumer) и коммерческие (commercial) дроны. Потребительские - это те, которые можно купить в магазине и использовать как летающую камеру. DJI Phantom, Mavic - хорошие модели. Есть и дешевле - но точно хуже. Такие consumer drones используют многие люди для съемки разных мероприятий, зданий, исторических объектов. Например, с дрона можно получить серию фотографий здания или памятника, а затем создать из них 3D модель объекта методом фотограмметрии.
Как правило, такие дроны летают на ручном управлении, реже по миссии в автономном режиме по GPS координатам. Рынок consumer drones больше чем наполовину принадлежит одной компании - [DJI](https://www.dji.com/). С ними тут очень сложно конкурировать, они делают реально крутой продукт для своих целей: доступный, функциональный, удобный. Хотя в области селфи дронов, я думаю их начинает теснить компания [Skydio](https://www.skydio.com/), со своим дроном R2. Его фишка в том, что он может летать автономно за человеком/мотоциклистом в лесу, видеть все препятствия и прокладывать автономный безопасный маршрут в реальном времени так, чтобы человек всегда оставался в кадре. Реально крутая штука. 

Commercial drones используются уже немного сложнее и не индивидуальными фотографами, а компаниями для решения какой-то задачи. Задач тут огромное количество. Рассмотрим сначала outdoor применения, затем поговорим о применениях внутри помещений. 

Дроны следят за состоянием сельхоз полей, летая над ними регулярно и делая фотографии, другие дроны умеют распылять точечно удобрения на растения - например, на том кусте, где размножились насекомые. Дроны используются на стройках, карьерах. Каждый день они облетают строительный объект, делают фотографии, по которым создается 3D модель в облаке, по которой видны ежедневные изменения состояния строительной площадки, что когда было построено, сколько кубометров песка привезли сегодня, а завтра увезли - на эти вопросы можно получить ответы таким образом. Пример российской компании, которая активно работает с этой технологией на рынке США - [Traceair](http://traceair.net/). Другой пример - осмотр трубопроводов дронами. Это особенно актуально для России - у нас газовые трубопроводы тянутся на тысячи километров, и надо контролировать утечки и врезки. 
Нельзя не коснуться вопроса доставки товаров дронами. Не знаю, заработает ли когда-нибудь сервис [Amazon-Prime-Air](https://www.amazon.com/Amazon-Prime-Air/b?ie=UTF8&node=8037720011), но уже сейчас компания [Matternet](https://mttr.net/) осуществляет доставку товаров в Цюрихе и некоторых городах США, а компания [Zipline](https://www.flyzipline.com/) уже давно доставляет медикаменты над просторами Африки. В России успехов тут пока намного меньше, недавно была новость что [дрон Почты России разбился на первом тесте](https://www.youtube.com/watch?v=SiyaNdqFSDM), а Сбербанк тестирует [доставку денег дронами](https://www.rbc.ru/technology_and_media/16/06/2017/594391f79a79478a62a8409f).
Другой пример - летающее такси, перевозящее людей внутри города. Компании [Volocopter](https://www.volocopter.com/en/) и [Ehang](http://www.ehang.com/ehang184/) уже имеют летающие прототипы такси, а компания с российскими корнями [Hoversurf](https://www.hoversurf.com/) разрабатывает летающий байк.

Indoor тоже есть задачи для коммерческих дронов, но пока они не сильно распространены, в этой области идет интенсивные R&D исследования. Возможные применения для дронов indoor - это
* [Инвентаризация складских помещений](https://flytware.com/)
* [Инспекции строек внутри зданий](https://www.exyn.com/) 
* [Контроль за безопасностью в подземных шахтах](https://emesent.io/)  
* [Инспекции промышленного оборудования в цехах](http://www.fastsense.tech/)

Поживем - увидим, какие проекты будут реализованы и задисраптят нашу жизнь. Вообще наша цель - сделать систему управления дроном, которой герой фильма “Бегущий по лезвию 2049” мог бы сказать: “Сфотографируй тут все!”

![Картинка](https://i.imgur.com/vblDrPb.gif) 



